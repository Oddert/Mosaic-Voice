(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){e.exports=n.p+"static/media/goals.47ab4047.svg"},26:function(e,t,n){e.exports=n.p+"static/media/visualise.38d1ddcd.svg"},27:function(e,t,n){e.exports=n.p+"static/media/tools.53494d4e.svg"},28:function(e,t,n){e.exports=n(45)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),i=n.n(o),c=(n(33),n(34),n(35),n(15)),l=n(5),s=function(){return r.a.createElement("section",null,r.a.createElement("h1",null,"Goal"),r.a.createElement("button",null,"Community"),r.a.createElement("button",null,"Voice Creator"),r.a.createElement("button",null,"Voice Matcher"))},u=(n(36),function(){return r.a.createElement("button",{onClick:function(){return window.history.back()},className:"nav_back",name:"navigate back",title:"back"},r.a.createElement("i",{className:"fa fa-chevron-left"}))}),m=function(){return r.a.createElement("button",{onClick:function(){},className:"nav_settings",name:"settings",title:"settings"},r.a.createElement("i",{className:"fas fa-cog"}))},h=function(){var e=Object(l.e)("/").isExact;return r.a.createElement("nav",{className:"Header"},e?r.a.createElement(m,null):r.a.createElement(u,null))},d=(n(42),function(e){e.title;for(var t=e.streak,n=[],a=0;a<t.max;a++)n.push(r.a.createElement("div",{className:"marker ".concat(a<=t.on?"active":"inactive"),key:"marker_".concat(a)}));return r.a.createElement("div",{className:"Roudel"},r.a.createElement("div",{className:"indicator"},r.a.createElement("div",{className:"indicator-inner"},r.a.createElement("div",{className:"indicator-inner-blue"},t.on))),r.a.createElement("p",{className:"indicator_annotation"},"day streak"),r.a.createElement("div",{className:"markers"},n))}),f=function(e){var t=e.title;return r.a.createElement("h2",null,t)},v=function(){return r.a.createElement("button",{className:"Pathway-button TrainingLink"},"Training Link")},p=function(){return r.a.createElement("button",{className:"Pathway-button PageLink"},"Page Link")},E=function(e){return r.a.createElement("div",{className:"Pathways-card"},r.a.createElement(f,{title:e.title}),r.a.createElement(d,e),r.a.createElement(v,e),r.a.createElement(p,e))},g=[{_id:"wejfb817trhi2ufbnweuigh7i12",title:"Daily Practice",inherant:!0,streak:{max:8,on:5}},{_id:"vnriohgw9876c32nllrigwajegb",title:"Breathing",inherant:!1,streak:{max:6,on:2}},{_id:"mvbre784ikrgnh23ohtgrep1rtp",title:"Another one",inherant:!1,streak:{max:6,on:1}},{_id:"mvbre723ohtgre84ikrgnhp1rtp",title:"And Another one",inherant:!1,streak:{max:6,on:7}}],b=function(){return r.a.createElement("div",{className:"Pathways"},r.a.createElement("div",{className:"cards"},g.map((function(e){return r.a.createElement(E,Object.assign({key:e._id},e))}))))},w=(n(43),n(25)),y=n.n(w),k=n(26),x=n.n(k),j=n(27),O=n.n(j),A=function(e){var t=e.logo,n=e.alt,a=e.title,o=e.src;return r.a.createElement(c.b,{to:o,className:"section"},r.a.createElement("img",{src:t,alt:n}),r.a.createElement("div",{className:"title"},r.a.createElement("p",null,a),r.a.createElement("i",{className:"fa fa-chevron-right"})))},C=function(){return r.a.createElement("div",{className:"Sections"},r.a.createElement(A,{logo:O.a,alt:"tools logo",title:"Training Tools",src:"/tools"}),r.a.createElement(A,{logo:x.a,alt:"visualise logo",title:"Visualise Your Voice",src:"/visualise"}),r.a.createElement(A,{logo:y.a,alt:"goals logo",title:"Goal Attainment",src:"goals"}))},N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),r.a.createElement(C,null))},S=n(8),T=n.n(S),D=n(16),P=function(e){var t=Object(a.createRef)();function n(){console.log("draw()");var n=e.audioData;if(n){var a=t.current,r=a.height,o=a.width;console.log({height:r,width:o});var i=a.getContext("2d"),c=0,l=n.length?1*o/n.length:0;i.lineWidth=2,i.strokeStyle="#000000",i.clearRect(0,0,o,r),i.beginPath(),i.moveTo(0,r),console.log("?????");var s=!0,u=!1,m=void 0;try{for(var h,d=n[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value/255*r;i.lineTo(c,f),console.log({x:c,y:f}),c+=l}}catch(v){u=!0,m=v}finally{try{s||null==d.return||d.return()}finally{if(u)throw m}}i.lineTo(c,r/2),i.stroke()}}return Object(a.useEffect)((function(){n()}),[]),r.a.createElement("canvas",{width:"300",height:"300",ref:t,onClick:n})},M=function(e){console.log(e);var t=Object(a.useState)(new Uint8Array(0)),n=Object(D.a)(t,2),o=n[0],i=n[1],c=new(window.AudioContext||window.webkitAudioContext),l=c.createAnalyser(),s=new Uint8Array(l.frequencyBinCount);c.createMediaStreamSource(e.audio).connect(l);var u=requestAnimationFrame((function e(){l.getByteTimeDomainData(s),i(s),u=requestAnimationFrame(e)}));return Object(a.useEffect)((function(){window.cancelAnimationFrame(u),console.log("unmount")}),[u]),Object(a.useEffect)((function(){console.log("mount?")}),[]),r.a.createElement("div",null,r.a.createElement(P,{audioData:o}))},W=function(e){var t=Object(a.useState)(null),n=Object(D.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(null),l=Object(D.a)(c,2),s=l[0],u=l[1];return r.a.createElement("div",null,s||"",r.a.createElement("button",{onClick:function(){var e;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(navigator.permissions.query({name:"microphone"}));case 2:if("denied"!==t.sent.state){t.next=6;break}return u("You need to allow microphone permissions for that"),t.abrupt("return");case 6:return t.next=8,T.a.awrap(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}));case 8:(e=t.sent)&&i(e);case 10:case"end":return t.stop()}}))}},"Record"),r.a.createElement("button",{onClick:function(){o.getTracks().forEach((function(e){return e.stop()})),i(null)}},"Stop"),o?r.a.createElement(M,{audio:o}):"")},R=function(){return r.a.createElement("section",null,"If you can see this you are on the test 'page'")},U=function(){return r.a.createElement("section",null,r.a.createElement("h1",null,"Tools"),r.a.createElement("h2",null,"Quick Practice"),r.a.createElement("p",null,"Breathing "),r.a.createElement("p",null,"Warm Up "),r.a.createElement("p",null,"Pitch Work "),r.a.createElement("h2",null,"Analyse Voice"),r.a.createElement("p",null,"Pitch Recorder"),r.a.createElement("p",null,"Resonance Estmater"),r.a.createElement("button",null,"Connect to an EGG"),r.a.createElement("button",null,"Continous Listener"))},_=function(){return r.a.createElement("section",null,r.a.createElement("h1",null,"Visualise"),r.a.createElement("button",null,"AI Feature Extractor"),r.a.createElement("h2",null,"Analyse Voice"),r.a.createElement("p",null,"Pitch Over Time"),r.a.createElement("p",null,"Resonance Over Time"))},B=n(9),F=n(10),q=n(12),L=n(11),V=n(6),I=n(13),G=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(q.a)(this,Object(L.a)(t).call(this,e))).canvas=r.a.createRef(),n}return Object(I.a)(t,e),Object(F.a)(t,[{key:"draw",value:function(){var e=this.props.audioData,t=this.canvas.current,n=t.height,a=t.width,r=t.getContext("2d"),o=0,i=e.length?1*a/e.length:0;r.lineWidth=2,r.strokeStyle="#2d3e50",r.clearRect(0,0,a,n),r.beginPath(),r.moveTo(0,n/2);var c=!0,l=!1,s=void 0;try{for(var u,m=e[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var h=u.value/255*n;r.lineTo(o,h),o+=i}}catch(d){l=!0,s=d}finally{try{c||null==m.return||m.return()}finally{if(l)throw s}}r.lineTo(o,n/2),r.stroke()}},{key:"componentDidUpdate",value:function(){this.draw()}},{key:"render",value:function(){return r.a.createElement("canvas",{width:"300",height:"300",ref:this.canvas})}}]),t}(r.a.Component),J=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(q.a)(this,Object(L.a)(t).call(this,e))).state={audioData:new Uint8Array(0)},n.tick=n.tick.bind(Object(V.a)(n)),n}return Object(I.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){this.audioContext=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioContext.createAnalyser(),console.log(this.analyser.fftSize),this.dataArray=new Uint8Array(this.analyser.frequencyBinCount),this.source=this.audioContext.createMediaStreamSource(this.props.audio),this.source.connect(this.analyser),this.rafId=requestAnimationFrame(this.tick)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafId),this.analyser.disconnect(),this.source.disconnect()}},{key:"tick",value:function(){this.analyser.getByteTimeDomainData(this.dataArray),this.setState({audioData:this.dataArray}),this.rafId=requestAnimationFrame(this.tick)}},{key:"render",value:function(){return r.a.createElement(G,{audioData:this.state.audioData})}}]),t}(r.a.Component),Y=function(e){function t(e){var n;return Object(B.a)(this,t),(n=Object(q.a)(this,Object(L.a)(t).call(this,e))).state={audio:null},n.getMicrophone=n.getMicrophone.bind(Object(V.a)(n)),n.stopMicrophone=n.stopMicrophone.bind(Object(V.a)(n)),n}return Object(I.a)(t,e),Object(F.a)(t,[{key:"getMicrophone",value:function(){var e;return T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.awrap(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}));case 2:e=t.sent,this.setState({audio:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"stopMicrophone",value:function(){this.state.audio.getTracks().forEach((function(e){return e.stop})),this.setState({audio:null})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.getMicrophone},"Start"),r.a.createElement("button",{onClick:this.stopMicrophone},"Stop"),this.state.audio?r.a.createElement(J,{audio:this.state.audio}):"")}}]),t}(r.a.Component);var z=function(){return r.a.createElement(c.a,null,r.a.createElement(l.a,{exact:!0,path:"/",component:N}),r.a.createElement(l.a,{exact:!0,path:"/test",component:R}),r.a.createElement(l.a,{exact:!0,path:"/tools",component:U}),r.a.createElement(l.a,{exact:!0,path:"/visualise",component:_}),r.a.createElement(l.a,{exact:!0,path:"/goals",component:s}),r.a.createElement(l.a,{exact:!0,path:"/recorder",component:W}),r.a.createElement(l.a,{exact:!0,path:"/recorder2",component:Y}),r.a.createElement(h,null))};var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(z,null))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function $(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(H,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):$(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):$(t,e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.1e457238.chunk.js.map